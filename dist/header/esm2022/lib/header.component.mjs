import { ButtonModule } from 'primeng/button';
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { InputMaskModule } from 'primeng/inputmask';
import { ToolbarModule } from 'primeng/toolbar';
import { DropdownModule } from 'primeng/dropdown';
import { InputTextModule } from 'primeng/inputtext';
import { TableModule } from 'primeng/table';
import { ToastModule } from 'primeng/toast';
import { GalleriaModule } from 'primeng/galleria';
import { DialogModule } from 'primeng/dialog';
import { DividerModule } from 'primeng/divider';
import { FormsModule } from '@angular/forms';
import * as jsyaml from 'js-yaml';
import { TimesIcon } from 'primeng/icons/times';
import { TranslateModule } from '@ngx-translate/core';
import { MessageService } from 'primeng/api';
import * as i0 from "@angular/core";
import * as i1 from "primeng/api";
import * as i2 from "primeng/dialog";
import * as i3 from "@angular/common";
import * as i4 from "primeng/table";
import * as i5 from "primeng/inputtext";
import * as i6 from "primeng/button";
import * as i7 from "primeng/toolbar";
import * as i8 from "@angular/forms";
import * as i9 from "@ngx-translate/core";
export class HeaderComponent {
    constructor() {
        /** inputIndex 提供給外部使用者，可以設定進到該畫面就要顯示那筆的資料，例如我希望進到該畫面就顯示第二筆資料，就可以設定 inputIndex = 1
         * 如果沒有特別設定，則預設為 0
         */
        this.#inputIndex = 0;
        this.isSearchDisabled = false;
        this.searchPlaceholder = '請輸入身分證號或病歷號碼';
        this.detailHeader = '詳細資料';
        this.listHeader = '查詢清單';
        this.search = new EventEmitter();
        this.RowChange = new EventEmitter();
        this.searchText = '';
        this.isShowDetail = false;
        this.isShowList = false;
        this.#currentIndex = -1;
    }
    #value;
    set value(value) {
        this.#value = value;
        this.currentRowChange(this.#inputIndex);
    }
    get value() {
        return this.#value;
    }
    /** inputIndex 提供給外部使用者，可以設定進到該畫面就要顯示那筆的資料，例如我希望進到該畫面就顯示第二筆資料，就可以設定 inputIndex = 1
     * 如果沒有特別設定，則預設為 0
     */
    #inputIndex;
    set inputIndex(inputIndex) {
        if (inputIndex < 0 || inputIndex >= this.value.length) {
            throw new Error('inputIndex 設定錯誤，請設定 0 ~ ' + (this.value.length - 1) + ' 之間的數字');
        }
        else {
            this.#inputIndex = inputIndex;
            this.currentRowChange(this.#inputIndex);
        }
    }
    get inputIndex() {
        return this.#inputIndex;
    }
    #initValue;
    #currentIndex;
    #currentRow;
    /** 初始化
     */
    ngOnInit() {
        this.#initValue = this.value;
    }
    /** currentRowChange
     * @param rowIndex
     */
    currentRowChange(rowIndex) {
        if (rowIndex >= 0) {
            this.#currentRow = this.value[rowIndex];
            if (this.isUseDefaultTemplate()) {
                this.yamlDocument = jsyaml.dump(this.#currentRow);
            }
            this.#currentIndex = rowIndex;
            this.RowChange.emit(this.#currentRow);
        }
    }
    /** 上一筆資料
     */
    onPrevClick() {
        const rowIndex = (this.#currentIndex - 1 + this.value.length) % this.value.length;
        this.currentRowChange(rowIndex);
    }
    /** 下一筆資料
     */
    onNextClick() {
        const rowIndex = (this.#currentIndex + 1) % this.value.length;
        this.currentRowChange(rowIndex);
    }
    /** 點選一筆資料
     * @param rowIndex
     */
    onRowSelect(rowIndex) {
        this.currentRowChange(rowIndex);
    }
    /**
     * 搜尋資料
     * @param searchText
     */
    onSearch(searchText) {
        this.search.emit(searchText);
    }
    /** 清除搜尋
     */
    onSearchClear() {
        this.searchText = '';
        this.value = this.#initValue;
        this.currentRowChange(this.#currentIndex);
    }
    /** 是否使用預設的 template
     */
    isUseDefaultTemplate() {
        return this.detailTemplate == undefined || this.titleTemplate == undefined;
    }
    /** 取得物件的 key
     * @param value
     * @param index
     * @returns key
     */
    getKey(value, index) {
        return value ? Object.keys(value)[index] || '' : '';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.4", ngImport: i0, type: HeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.4", type: HeaderComponent, isStandalone: true, selector: "his-header", inputs: { value: "value", inputIndex: "inputIndex", titleTemplate: "titleTemplate", detailTemplate: "detailTemplate", listTemplate: "listTemplate", isSearchDisabled: "isSearchDisabled", searchPlaceholder: "searchPlaceholder", detailHeader: "detailHeader", listHeader: "listHeader" }, outputs: { search: "search", RowChange: "RowChange" }, providers: [MessageService], ngImport: i0, template: "<p-toolbar id=\"mydiv\">\n  <div class=\"p-toolbar-group-start\">\n    <div class=\"data\">\n      <div>\n        <button\n          pButton\n          pRipple\n          type=\"button\"\n          (click)=\"isShowDetail = !isShowDetail\"\n          class=\"p-button-rounded p-button-text btn\"\n          styleClass=\"p-button-secondary\"\n        >\n          <i class=\"pi pi-user\"></i>\n        </button>\n      </div>\n\n      <p-dialog\n        [header]=\" detailHeader | translate\"\n        [(visible)]=\"isShowDetail\"\n        [style]=\"{ width: '20vw' }\"\n        [position]=\"'left'\"\n        [draggable]=\"false\"\n      >\n        <ng-container\n          [ngTemplateOutlet]=\"detailTemplate || defaultDetailTemplate\"\n        >\n        </ng-container>\n      </p-dialog>\n    </div>\n  </div>\n\n  <div class=\"p-toolbar-group-center\">\n    <ng-container\n      [ngTemplateOutlet]=\"titleTemplate || defaultTitleTemplate\"\n    ></ng-container>\n\n    <div class=\"arrowPadding\">\n      <button\n        pButton\n        pRipple\n        type=\"button\"\n        (click)=\"onPrevClick()\"\n        class=\"p-button-rounded p-button-text\"\n        styleClass=\"p-button-secondary\"\n      >\n        <i class=\"pi pi-angle-left\"></i>\n      </button>\n\n      <button\n        pButton\n        pRipple\n        type=\"button\"\n        (click)=\"onNextClick()\"\n        class=\"p-button-rounded p-button-text\"\n        styleClass=\"p-button-secondary\"\n      >\n        <i class=\"pi pi-angle-right\"></i>\n      </button>\n    </div>\n  </div>\n\n  <div class=\"p-toolbar-group-start\">\n    <section>\n      <span class=\"input p-input-icon-left\">\n        <i class=\"pi pi-search\"></i>\n        <input\n          [disabled]=\"isSearchDisabled\"\n          type=\"text\"\n          pInputText\n          [placeholder]=\" searchPlaceholder | translate\"\n          #search\n          [(ngModel)]=\"searchText\"\n          (keyup.enter)=\"onSearch(search.value)\"\n        />\n\n        <button\n          pButton\n          pRipple\n          type=\"button\"\n          (click)=\"onSearchClear()\"\n          class=\"p-button-rounded p-button-text btn\"\n          styleClass=\"p-button-secondary\"\n        >\n          <i class=\"pi pi-times\"></i>\n        </button>\n      </span>\n    </section>\n\n    <button\n      pButton\n      pRipple\n      type=\"button\"\n      (click)=\"isShowList = !isShowList\"\n      class=\"p-button-rounded p-button-text\"\n      styleClass=\"p-button-secondary\"\n    >\n      <i class=\"pi pi-list\"></i>\n    </button>\n\n    <p-dialog\n      [header]=\"listHeader | translate\"\n      [(visible)]=\"isShowList\"\n      [style]=\"{ width: '20vw' }\"\n      [position]=\"'right'\"\n      [draggable]=\"false\"\n    >\n      <p-table [value]=\"value\" [tableStyle]=\"{ 'min-width': '10rem' }\">\n        <ng-template pTemplate=\"body\" let-row let-rowIndex=\"rowIndex\">\n          <tr (click)=\"onRowSelect(rowIndex)\" [pSelectableRow]=\"row\">\n            <ng-container\n              [ngTemplateOutlet]=\"listTemplate || defaultListTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: row }\"\n            ></ng-container>\n          </tr>\n        </ng-template>\n      </p-table>\n    </p-dialog>\n\n    <ng-template #defaultTitleTemplate>\n      <div class=\"shortResult\">\n        {{ yamlDocument }}\n      </div>\n    </ng-template>\n\n    <ng-template #defaultDetailTemplate>\n      <pre>{{ yamlDocument }}</pre>\n    </ng-template>\n\n    <ng-template #defaultListTemplate let-row>\n      <td>{{ row[getKey(value[0], 0)] }}</td>\n      <td>{{ row[getKey(value[0], 1)] }}</td>\n    </ng-template>\n  </div>\n</p-toolbar>\n", styles: [":host ::ng-deep .p-toolbar{width:100%;display:flex;background-color:var(--surface-section);gap:0}:host ::ng-deep .p-toolbar .p-button{padding:.25rem}:host ::ng-deep .input{display:flex;justify-content:center;align-items:center}:host ::ng-deep .p-toolbar-group-center{flex:1;justify-content:space-between;padding-right:1.5rem}:host ::ng-deep .p-toolbar-group-center .arrowPadding{gap:1rem;display:flex}:host ::ng-deep .p-input-icon-right{align-items:center;justify-content:center}:host ::ng-deep .p-toolbar-group-start{gap:1rem}:host ::ng-deep .p-button.p-button-icon-only.p-button-rounded{width:2rem;height:2rem}:host ::ng-deep .p-dialog{position:absolute;top:4rem}:host ::ng-deep .shortResult{color:var(--surface-on-surface, #1c1d1c);font-family:Noto Sans TC;font-size:1.25rem;font-style:normal;font-weight:700;line-height:1.75rem;letter-spacing:.025rem}:host ::ng-deep .data{margin-right:7px}:host ::ng-deep .p-input-icon-left .btn{position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}:host ::ng-deep .p-inputtext{color:var(--black-o-38, rgba(19, 20, 20, .38));font-family:Noto Sans TC;font-size:1rem;font-style:normal;font-weight:400;line-height:1.25rem;letter-spacing:.01rem;display:flex;padding-top:.5625rem;padding-bottom:.5625rem;width:20rem;flex-direction:column;align-items:flex-start}:host ::ng-deep .p-inputtext.p-component{color:var(--surface-on-surface, #1c1d1c)}:host ::ng-deep .p-datatable .p-datatable-tbody>tr>td{padding:.5rem 1rem}:host ::ng-deep .p-button{min-width:0rem}\n"], dependencies: [{ kind: "ngmodule", type: InputMaskModule }, { kind: "directive", type: i1.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "ngmodule", type: DividerModule }, { kind: "ngmodule", type: DialogModule }, { kind: "component", type: i2.Dialog, selector: "p-dialog", inputs: ["header", "draggable", "resizable", "positionLeft", "positionTop", "contentStyle", "contentStyleClass", "modal", "closeOnEscape", "dismissableMask", "rtl", "closable", "responsive", "appendTo", "breakpoints", "styleClass", "maskStyleClass", "showHeader", "breakpoint", "blockScroll", "autoZIndex", "baseZIndex", "minX", "minY", "focusOnShow", "maximizable", "keepInViewport", "focusTrap", "transitionOptions", "closeIcon", "closeAriaLabel", "closeTabindex", "minimizeIcon", "maximizeIcon", "visible", "style", "position"], outputs: ["onShow", "onHide", "visibleChange", "onResizeInit", "onResizeEnd", "onDragEnd", "onMaximize"] }, { kind: "ngmodule", type: GalleriaModule }, { kind: "directive", type: i3.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: ToastModule }, { kind: "ngmodule", type: TableModule }, { kind: "component", type: i4.Table, selector: "p-table", inputs: ["frozenColumns", "frozenValue", "style", "styleClass", "tableStyle", "tableStyleClass", "paginator", "pageLinks", "rowsPerPageOptions", "alwaysShowPaginator", "paginatorPosition", "paginatorStyleClass", "paginatorDropdownAppendTo", "paginatorDropdownScrollHeight", "currentPageReportTemplate", "showCurrentPageReport", "showJumpToPageDropdown", "showJumpToPageInput", "showFirstLastIcon", "showPageLinks", "defaultSortOrder", "sortMode", "resetPageOnSort", "selectionMode", "selectionPageOnly", "contextMenuSelection", "contextMenuSelectionMode", "dataKey", "metaKeySelection", "rowSelectable", "rowTrackBy", "lazy", "lazyLoadOnInit", "compareSelectionBy", "csvSeparator", "exportFilename", "filters", "globalFilterFields", "filterDelay", "filterLocale", "expandedRowKeys", "editingRowKeys", "rowExpandMode", "scrollable", "scrollDirection", "rowGroupMode", "scrollHeight", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "virtualScrollDelay", "frozenWidth", "responsive", "contextMenu", "resizableColumns", "columnResizeMode", "reorderableColumns", "loading", "loadingIcon", "showLoader", "rowHover", "customSort", "showInitialSortBadge", "autoLayout", "exportFunction", "exportHeader", "stateKey", "stateStorage", "editMode", "groupRowsBy", "groupRowsByOrder", "responsiveLayout", "breakpoint", "paginatorLocale", "value", "columns", "first", "rows", "totalRecords", "sortField", "sortOrder", "multiSortMeta", "selection", "selectAll", "virtualRowHeight"], outputs: ["contextMenuSelectionChange", "selectAllChange", "selectionChange", "onRowSelect", "onRowUnselect", "onPage", "onSort", "onFilter", "onLazyLoad", "onRowExpand", "onRowCollapse", "onContextMenuSelect", "onColResize", "onColReorder", "onRowReorder", "onEditInit", "onEditComplete", "onEditCancel", "onHeaderCheckboxToggle", "sortFunction", "firstChange", "rowsChange", "onStateSave", "onStateRestore"] }, { kind: "directive", type: i4.SelectableRow, selector: "[pSelectableRow]", inputs: ["pSelectableRow", "pSelectableRowIndex", "pSelectableRowDisabled"] }, { kind: "ngmodule", type: InputTextModule }, { kind: "directive", type: i5.InputText, selector: "[pInputText]" }, { kind: "ngmodule", type: DropdownModule }, { kind: "ngmodule", type: ButtonModule }, { kind: "directive", type: i6.ButtonDirective, selector: "[pButton]", inputs: ["iconPos", "loadingIcon", "label", "icon", "loading"] }, { kind: "ngmodule", type: ToolbarModule }, { kind: "component", type: i7.Toolbar, selector: "p-toolbar", inputs: ["style", "styleClass", "ariaLabelledBy"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: TranslateModule }, { kind: "pipe", type: i9.TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.4", ngImport: i0, type: HeaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'his-header', standalone: true, providers: [MessageService], imports: [
                        InputMaskModule,
                        DividerModule,
                        DialogModule,
                        GalleriaModule,
                        ToastModule,
                        TableModule,
                        InputTextModule,
                        DropdownModule,
                        ButtonModule,
                        ToolbarModule,
                        FormsModule,
                        TimesIcon,
                        TranslateModule
                    ], template: "<p-toolbar id=\"mydiv\">\n  <div class=\"p-toolbar-group-start\">\n    <div class=\"data\">\n      <div>\n        <button\n          pButton\n          pRipple\n          type=\"button\"\n          (click)=\"isShowDetail = !isShowDetail\"\n          class=\"p-button-rounded p-button-text btn\"\n          styleClass=\"p-button-secondary\"\n        >\n          <i class=\"pi pi-user\"></i>\n        </button>\n      </div>\n\n      <p-dialog\n        [header]=\" detailHeader | translate\"\n        [(visible)]=\"isShowDetail\"\n        [style]=\"{ width: '20vw' }\"\n        [position]=\"'left'\"\n        [draggable]=\"false\"\n      >\n        <ng-container\n          [ngTemplateOutlet]=\"detailTemplate || defaultDetailTemplate\"\n        >\n        </ng-container>\n      </p-dialog>\n    </div>\n  </div>\n\n  <div class=\"p-toolbar-group-center\">\n    <ng-container\n      [ngTemplateOutlet]=\"titleTemplate || defaultTitleTemplate\"\n    ></ng-container>\n\n    <div class=\"arrowPadding\">\n      <button\n        pButton\n        pRipple\n        type=\"button\"\n        (click)=\"onPrevClick()\"\n        class=\"p-button-rounded p-button-text\"\n        styleClass=\"p-button-secondary\"\n      >\n        <i class=\"pi pi-angle-left\"></i>\n      </button>\n\n      <button\n        pButton\n        pRipple\n        type=\"button\"\n        (click)=\"onNextClick()\"\n        class=\"p-button-rounded p-button-text\"\n        styleClass=\"p-button-secondary\"\n      >\n        <i class=\"pi pi-angle-right\"></i>\n      </button>\n    </div>\n  </div>\n\n  <div class=\"p-toolbar-group-start\">\n    <section>\n      <span class=\"input p-input-icon-left\">\n        <i class=\"pi pi-search\"></i>\n        <input\n          [disabled]=\"isSearchDisabled\"\n          type=\"text\"\n          pInputText\n          [placeholder]=\" searchPlaceholder | translate\"\n          #search\n          [(ngModel)]=\"searchText\"\n          (keyup.enter)=\"onSearch(search.value)\"\n        />\n\n        <button\n          pButton\n          pRipple\n          type=\"button\"\n          (click)=\"onSearchClear()\"\n          class=\"p-button-rounded p-button-text btn\"\n          styleClass=\"p-button-secondary\"\n        >\n          <i class=\"pi pi-times\"></i>\n        </button>\n      </span>\n    </section>\n\n    <button\n      pButton\n      pRipple\n      type=\"button\"\n      (click)=\"isShowList = !isShowList\"\n      class=\"p-button-rounded p-button-text\"\n      styleClass=\"p-button-secondary\"\n    >\n      <i class=\"pi pi-list\"></i>\n    </button>\n\n    <p-dialog\n      [header]=\"listHeader | translate\"\n      [(visible)]=\"isShowList\"\n      [style]=\"{ width: '20vw' }\"\n      [position]=\"'right'\"\n      [draggable]=\"false\"\n    >\n      <p-table [value]=\"value\" [tableStyle]=\"{ 'min-width': '10rem' }\">\n        <ng-template pTemplate=\"body\" let-row let-rowIndex=\"rowIndex\">\n          <tr (click)=\"onRowSelect(rowIndex)\" [pSelectableRow]=\"row\">\n            <ng-container\n              [ngTemplateOutlet]=\"listTemplate || defaultListTemplate\"\n              [ngTemplateOutletContext]=\"{ $implicit: row }\"\n            ></ng-container>\n          </tr>\n        </ng-template>\n      </p-table>\n    </p-dialog>\n\n    <ng-template #defaultTitleTemplate>\n      <div class=\"shortResult\">\n        {{ yamlDocument }}\n      </div>\n    </ng-template>\n\n    <ng-template #defaultDetailTemplate>\n      <pre>{{ yamlDocument }}</pre>\n    </ng-template>\n\n    <ng-template #defaultListTemplate let-row>\n      <td>{{ row[getKey(value[0], 0)] }}</td>\n      <td>{{ row[getKey(value[0], 1)] }}</td>\n    </ng-template>\n  </div>\n</p-toolbar>\n", styles: [":host ::ng-deep .p-toolbar{width:100%;display:flex;background-color:var(--surface-section);gap:0}:host ::ng-deep .p-toolbar .p-button{padding:.25rem}:host ::ng-deep .input{display:flex;justify-content:center;align-items:center}:host ::ng-deep .p-toolbar-group-center{flex:1;justify-content:space-between;padding-right:1.5rem}:host ::ng-deep .p-toolbar-group-center .arrowPadding{gap:1rem;display:flex}:host ::ng-deep .p-input-icon-right{align-items:center;justify-content:center}:host ::ng-deep .p-toolbar-group-start{gap:1rem}:host ::ng-deep .p-button.p-button-icon-only.p-button-rounded{width:2rem;height:2rem}:host ::ng-deep .p-dialog{position:absolute;top:4rem}:host ::ng-deep .shortResult{color:var(--surface-on-surface, #1c1d1c);font-family:Noto Sans TC;font-size:1.25rem;font-style:normal;font-weight:700;line-height:1.75rem;letter-spacing:.025rem}:host ::ng-deep .data{margin-right:7px}:host ::ng-deep .p-input-icon-left .btn{position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}:host ::ng-deep .p-inputtext{color:var(--black-o-38, rgba(19, 20, 20, .38));font-family:Noto Sans TC;font-size:1rem;font-style:normal;font-weight:400;line-height:1.25rem;letter-spacing:.01rem;display:flex;padding-top:.5625rem;padding-bottom:.5625rem;width:20rem;flex-direction:column;align-items:flex-start}:host ::ng-deep .p-inputtext.p-component{color:var(--surface-on-surface, #1c1d1c)}:host ::ng-deep .p-datatable .p-datatable-tbody>tr>td{padding:.5rem 1rem}:host ::ng-deep .p-button{min-width:0rem}\n"] }]
        }], propDecorators: { value: [{
                type: Input
            }], inputIndex: [{
                type: Input
            }], titleTemplate: [{
                type: Input
            }], detailTemplate: [{
                type: Input
            }], listTemplate: [{
                type: Input
            }], isSearchDisabled: [{
                type: Input
            }], searchPlaceholder: [{
                type: Input
            }], detailHeader: [{
                type: Input
            }], listHeader: [{
                type: Input
            }], search: [{
                type: Output
            }], RowChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2hlYWRlci9zcmMvbGliL2hlYWRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9oZWFkZXIvc3JjL2xpYi9oZWFkZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQWUsTUFBTSxlQUFlLENBQUM7QUFDNUYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDNUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM1QyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDN0MsT0FBTyxLQUFLLE1BQU0sTUFBTSxTQUFTLENBQUM7QUFDbEMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sYUFBYSxDQUFDOzs7Ozs7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QkFDZixhQUFhO3dCQUNiLFlBQVk7d0JBQ1osY0FBYzt3QkFDZCxXQUFXO3dCQUNYLFdBQVc7d0JBQ1gsZUFBZTt3QkFDZixjQUFjO3dCQUNkLFlBQVk7d0JBQ1osYUFBYTt3QkFDYixXQUFXO3dCQUNYLFNBQVM7d0JBQ1QsZUFBZTtxQkFDaEI7OEJBTUcsS0FBSztzQkFEUixLQUFLO2dCQWNGLFVBQVU7c0JBRGIsS0FBSztnQkFhRyxhQUFhO3NCQUFyQixLQUFLO2dCQUNHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ0csWUFBWTtzQkFBcEIsS0FBSztnQkFDRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFFSSxNQUFNO3NCQUFmLE1BQU07Z0JBQ0csU0FBUztzQkFBbEIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1dHRvbk1vZHVsZSB9IGZyb20gJ3ByaW1lbmcvYnV0dG9uJztcbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJbnB1dE1hc2tNb2R1bGUgfSBmcm9tICdwcmltZW5nL2lucHV0bWFzayc7XG5pbXBvcnQgeyBUb29sYmFyTW9kdWxlIH0gZnJvbSAncHJpbWVuZy90b29sYmFyJztcbmltcG9ydCB7IERyb3Bkb3duTW9kdWxlIH0gZnJvbSAncHJpbWVuZy9kcm9wZG93bic7XG5pbXBvcnQgeyBJbnB1dFRleHRNb2R1bGUgfSBmcm9tICdwcmltZW5nL2lucHV0dGV4dCc7XG5pbXBvcnQgeyBUYWJsZU1vZHVsZSB9IGZyb20gJ3ByaW1lbmcvdGFibGUnO1xuaW1wb3J0IHsgVG9hc3RNb2R1bGUgfSBmcm9tICdwcmltZW5nL3RvYXN0JztcbmltcG9ydCB7IEdhbGxlcmlhTW9kdWxlIH0gZnJvbSAncHJpbWVuZy9nYWxsZXJpYSc7XG5pbXBvcnQgeyBEaWFsb2dNb2R1bGUgfSBmcm9tICdwcmltZW5nL2RpYWxvZyc7XG5pbXBvcnQgeyBEaXZpZGVyTW9kdWxlIH0gZnJvbSAncHJpbWVuZy9kaXZpZGVyJztcbmltcG9ydCB7IEZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0ICogYXMganN5YW1sIGZyb20gJ2pzLXlhbWwnO1xuaW1wb3J0IHsgVGltZXNJY29uIH0gZnJvbSAncHJpbWVuZy9pY29ucy90aW1lcyc7XG5pbXBvcnQgeyBUcmFuc2xhdGVNb2R1bGUgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IE1lc3NhZ2VTZXJ2aWNlIH0gZnJvbSAncHJpbWVuZy9hcGknO1xuXG5AQ29tcG9uZW50KHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgc2VsZWN0b3I6ICdoaXMtaGVhZGVyJyxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgdGVtcGxhdGVVcmw6ICcuL2hlYWRlci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2hlYWRlci5jb21wb25lbnQuc2NzcyddLFxuICBwcm92aWRlcnM6IFtNZXNzYWdlU2VydmljZV0sXG4gIGltcG9ydHM6IFtcbiAgICBJbnB1dE1hc2tNb2R1bGUsXG4gICAgRGl2aWRlck1vZHVsZSxcbiAgICBEaWFsb2dNb2R1bGUsXG4gICAgR2FsbGVyaWFNb2R1bGUsXG4gICAgVG9hc3RNb2R1bGUsXG4gICAgVGFibGVNb2R1bGUsXG4gICAgSW5wdXRUZXh0TW9kdWxlLFxuICAgIERyb3Bkb3duTW9kdWxlLFxuICAgIEJ1dHRvbk1vZHVsZSxcbiAgICBUb29sYmFyTW9kdWxlLFxuICAgIEZvcm1zTW9kdWxlLFxuICAgIFRpbWVzSWNvbixcbiAgICBUcmFuc2xhdGVNb2R1bGVcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgSGVhZGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAjdmFsdWU6IGFueTtcbiAgQElucHV0KClcbiAgc2V0IHZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLiN2YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuY3VycmVudFJvd0NoYW5nZSh0aGlzLiNpbnB1dEluZGV4KTtcbiAgfVxuICBnZXQgdmFsdWUoKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy4jdmFsdWU7XG4gIH1cblxuIC8qKiBpbnB1dEluZGV4IOaPkOS+m+e1puWklumDqOS9v+eUqOiAhe+8jOWPr+S7peioreWumumAsuWIsOipsueVq+mdouWwseimgemhr+ekuumCo+ethueahOizh+aWme+8jOS+i+WmguaIkeW4jOacm+mAsuWIsOipsueVq+mdouWwsemhr+ekuuesrOS6jOethuizh+aWme+8jOWwseWPr+S7peioreWumiBpbnB1dEluZGV4ID0gMVxuICAqIOWmguaenOaykuacieeJueWIpeioreWumu+8jOWJh+mgkOioreeCuiAwXG4gICovXG4gICNpbnB1dEluZGV4ID0gMDtcbiAgQElucHV0KClcbiAgc2V0IGlucHV0SW5kZXgoaW5wdXRJbmRleDogbnVtYmVyKSB7XG4gICAgaWYoaW5wdXRJbmRleCA8IDAgfHwgaW5wdXRJbmRleCA+PSB0aGlzLnZhbHVlLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnB1dEluZGV4IOioreWumumMr+iqpO+8jOiri+ioreWumiAwIH4gJyArICh0aGlzLnZhbHVlLmxlbmd0aCAtIDEpICsgJyDkuYvplpPnmoTmlbjlrZcnKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuI2lucHV0SW5kZXggPSBpbnB1dEluZGV4O1xuICAgICAgdGhpcy5jdXJyZW50Um93Q2hhbmdlKHRoaXMuI2lucHV0SW5kZXgpO1xuICAgIH1cbiAgfVxuICBnZXQgaW5wdXRJbmRleCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNpbnB1dEluZGV4O1xuICB9XG5cbiAgQElucHV0KCkgdGl0bGVUZW1wbGF0ZSE6IFRlbXBsYXRlUmVmPGFueT47XG4gIEBJbnB1dCgpIGRldGFpbFRlbXBsYXRlITogVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCkgbGlzdFRlbXBsYXRlITogVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCkgaXNTZWFyY2hEaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSBzZWFyY2hQbGFjZWhvbGRlcjogc3RyaW5nID0gJ+iri+i8uOWFpei6q+WIhuitieiZn+aIlueXheatt+iZn+eivCc7XG4gIEBJbnB1dCgpIGRldGFpbEhlYWRlcjogc3RyaW5nID0gJ+ips+e0sOizh+aWmSc7XG4gIEBJbnB1dCgpIGxpc3RIZWFkZXI6IHN0cmluZyA9ICfmn6XoqaLmuIXllq4nO1xuXG4gIEBPdXRwdXQoKSBzZWFyY2ggPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIFJvd0NoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIHlhbWxEb2N1bWVudDogYW55O1xuICBzZWFyY2hUZXh0OiBzdHJpbmcgPSAnJztcbiAgaXNTaG93RGV0YWlsOiBib29sZWFuID0gZmFsc2U7XG4gIGlzU2hvd0xpc3Q6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICNpbml0VmFsdWU6IGFueTtcbiAgI2N1cnJlbnRJbmRleDogbnVtYmVyID0gLTE7XG4gICNjdXJyZW50Um93OiBhbnk7XG5cbiAgLyoqIOWIneWni+WMllxuICAgKi9cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy4jaW5pdFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgfVxuXG4gIC8qKiBjdXJyZW50Um93Q2hhbmdlXG4gICAqIEBwYXJhbSByb3dJbmRleFxuICAgKi9cbiAgY3VycmVudFJvd0NoYW5nZShyb3dJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHJvd0luZGV4ID49IDApIHtcbiAgICAgIHRoaXMuI2N1cnJlbnRSb3cgPSB0aGlzLnZhbHVlW3Jvd0luZGV4XTtcbiAgICAgIGlmICh0aGlzLmlzVXNlRGVmYXVsdFRlbXBsYXRlKCkpIHtcbiAgICAgICAgdGhpcy55YW1sRG9jdW1lbnQgPSBqc3lhbWwuZHVtcCh0aGlzLiNjdXJyZW50Um93KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuI2N1cnJlbnRJbmRleCA9IHJvd0luZGV4O1xuICAgICAgdGhpcy5Sb3dDaGFuZ2UuZW1pdCh0aGlzLiNjdXJyZW50Um93KTtcbiAgICB9XG4gIH1cblxuICAvKiog5LiK5LiA562G6LOH5paZXG4gICAqL1xuICBvblByZXZDbGljaygpOiB2b2lkIHtcbiAgICBjb25zdCByb3dJbmRleCA9XG4gICAgICAodGhpcy4jY3VycmVudEluZGV4IC0gMSArIHRoaXMudmFsdWUubGVuZ3RoKSAlIHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIHRoaXMuY3VycmVudFJvd0NoYW5nZShyb3dJbmRleCk7XG4gIH1cblxuICAvKiog5LiL5LiA562G6LOH5paZXG4gICAqL1xuICBvbk5leHRDbGljaygpOiB2b2lkIHtcbiAgICBjb25zdCByb3dJbmRleCA9ICh0aGlzLiNjdXJyZW50SW5kZXggKyAxKSAlIHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIHRoaXMuY3VycmVudFJvd0NoYW5nZShyb3dJbmRleCk7XG4gIH1cbiAgLyoqIOm7numBuOS4gOethuizh+aWmVxuICAgKiBAcGFyYW0gcm93SW5kZXhcbiAgICovXG4gIG9uUm93U2VsZWN0KHJvd0luZGV4OiBudW1iZXIpIHtcbiAgICB0aGlzLmN1cnJlbnRSb3dDaGFuZ2Uocm93SW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOaQnOWwi+izh+aWmVxuICAgKiBAcGFyYW0gc2VhcmNoVGV4dFxuICAgKi9cbiAgb25TZWFyY2goc2VhcmNoVGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zZWFyY2guZW1pdChzZWFyY2hUZXh0KTtcbiAgfVxuXG4gIC8qKiDmuIXpmaTmkJzlsItcbiAgICovXG4gIG9uU2VhcmNoQ2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuI2luaXRWYWx1ZTtcbiAgICB0aGlzLmN1cnJlbnRSb3dDaGFuZ2UodGhpcy4jY3VycmVudEluZGV4KTtcbiAgfVxuXG4gIC8qKiDmmK/lkKbkvb/nlKjpoJDoqK3nmoQgdGVtcGxhdGVcbiAgICovXG4gIGlzVXNlRGVmYXVsdFRlbXBsYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmRldGFpbFRlbXBsYXRlID09IHVuZGVmaW5lZCB8fCB0aGlzLnRpdGxlVGVtcGxhdGUgPT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqIOWPluW+l+eJqeS7tueahCBrZXlcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcmV0dXJucyBrZXlcbiAgICovXG4gIGdldEtleSh2YWx1ZTogYW55LCBpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdmFsdWUgPyBPYmplY3Qua2V5cyh2YWx1ZSlbaW5kZXhdIHx8ICcnIDogJyc7XG4gIH1cbn1cbiIsIjxwLXRvb2xiYXIgaWQ9XCJteWRpdlwiPlxuICA8ZGl2IGNsYXNzPVwicC10b29sYmFyLWdyb3VwLXN0YXJ0XCI+XG4gICAgPGRpdiBjbGFzcz1cImRhdGFcIj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBwQnV0dG9uXG4gICAgICAgICAgcFJpcHBsZVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIChjbGljayk9XCJpc1Nob3dEZXRhaWwgPSAhaXNTaG93RGV0YWlsXCJcbiAgICAgICAgICBjbGFzcz1cInAtYnV0dG9uLXJvdW5kZWQgcC1idXR0b24tdGV4dCBidG5cIlxuICAgICAgICAgIHN0eWxlQ2xhc3M9XCJwLWJ1dHRvbi1zZWNvbmRhcnlcIlxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3M9XCJwaSBwaS11c2VyXCI+PC9pPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8cC1kaWFsb2dcbiAgICAgICAgW2hlYWRlcl09XCIgZGV0YWlsSGVhZGVyIHwgdHJhbnNsYXRlXCJcbiAgICAgICAgWyh2aXNpYmxlKV09XCJpc1Nob3dEZXRhaWxcIlxuICAgICAgICBbc3R5bGVdPVwieyB3aWR0aDogJzIwdncnIH1cIlxuICAgICAgICBbcG9zaXRpb25dPVwiJ2xlZnQnXCJcbiAgICAgICAgW2RyYWdnYWJsZV09XCJmYWxzZVwiXG4gICAgICA+XG4gICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJkZXRhaWxUZW1wbGF0ZSB8fCBkZWZhdWx0RGV0YWlsVGVtcGxhdGVcIlxuICAgICAgICA+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPC9wLWRpYWxvZz5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInAtdG9vbGJhci1ncm91cC1jZW50ZXJcIj5cbiAgICA8bmctY29udGFpbmVyXG4gICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJ0aXRsZVRlbXBsYXRlIHx8IGRlZmF1bHRUaXRsZVRlbXBsYXRlXCJcbiAgICA+PC9uZy1jb250YWluZXI+XG5cbiAgICA8ZGl2IGNsYXNzPVwiYXJyb3dQYWRkaW5nXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIHBCdXR0b25cbiAgICAgICAgcFJpcHBsZVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgKGNsaWNrKT1cIm9uUHJldkNsaWNrKClcIlxuICAgICAgICBjbGFzcz1cInAtYnV0dG9uLXJvdW5kZWQgcC1idXR0b24tdGV4dFwiXG4gICAgICAgIHN0eWxlQ2xhc3M9XCJwLWJ1dHRvbi1zZWNvbmRhcnlcIlxuICAgICAgPlxuICAgICAgICA8aSBjbGFzcz1cInBpIHBpLWFuZ2xlLWxlZnRcIj48L2k+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgPGJ1dHRvblxuICAgICAgICBwQnV0dG9uXG4gICAgICAgIHBSaXBwbGVcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIChjbGljayk9XCJvbk5leHRDbGljaygpXCJcbiAgICAgICAgY2xhc3M9XCJwLWJ1dHRvbi1yb3VuZGVkIHAtYnV0dG9uLXRleHRcIlxuICAgICAgICBzdHlsZUNsYXNzPVwicC1idXR0b24tc2Vjb25kYXJ5XCJcbiAgICAgID5cbiAgICAgICAgPGkgY2xhc3M9XCJwaSBwaS1hbmdsZS1yaWdodFwiPjwvaT5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwicC10b29sYmFyLWdyb3VwLXN0YXJ0XCI+XG4gICAgPHNlY3Rpb24+XG4gICAgICA8c3BhbiBjbGFzcz1cImlucHV0IHAtaW5wdXQtaWNvbi1sZWZ0XCI+XG4gICAgICAgIDxpIGNsYXNzPVwicGkgcGktc2VhcmNoXCI+PC9pPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBbZGlzYWJsZWRdPVwiaXNTZWFyY2hEaXNhYmxlZFwiXG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHBJbnB1dFRleHRcbiAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwiIHNlYXJjaFBsYWNlaG9sZGVyIHwgdHJhbnNsYXRlXCJcbiAgICAgICAgICAjc2VhcmNoXG4gICAgICAgICAgWyhuZ01vZGVsKV09XCJzZWFyY2hUZXh0XCJcbiAgICAgICAgICAoa2V5dXAuZW50ZXIpPVwib25TZWFyY2goc2VhcmNoLnZhbHVlKVwiXG4gICAgICAgIC8+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHBCdXR0b25cbiAgICAgICAgICBwUmlwcGxlXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgKGNsaWNrKT1cIm9uU2VhcmNoQ2xlYXIoKVwiXG4gICAgICAgICAgY2xhc3M9XCJwLWJ1dHRvbi1yb3VuZGVkIHAtYnV0dG9uLXRleHQgYnRuXCJcbiAgICAgICAgICBzdHlsZUNsYXNzPVwicC1idXR0b24tc2Vjb25kYXJ5XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxpIGNsYXNzPVwicGkgcGktdGltZXNcIj48L2k+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9zcGFuPlxuICAgIDwvc2VjdGlvbj5cblxuICAgIDxidXR0b25cbiAgICAgIHBCdXR0b25cbiAgICAgIHBSaXBwbGVcbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgKGNsaWNrKT1cImlzU2hvd0xpc3QgPSAhaXNTaG93TGlzdFwiXG4gICAgICBjbGFzcz1cInAtYnV0dG9uLXJvdW5kZWQgcC1idXR0b24tdGV4dFwiXG4gICAgICBzdHlsZUNsYXNzPVwicC1idXR0b24tc2Vjb25kYXJ5XCJcbiAgICA+XG4gICAgICA8aSBjbGFzcz1cInBpIHBpLWxpc3RcIj48L2k+XG4gICAgPC9idXR0b24+XG5cbiAgICA8cC1kaWFsb2dcbiAgICAgIFtoZWFkZXJdPVwibGlzdEhlYWRlciB8IHRyYW5zbGF0ZVwiXG4gICAgICBbKHZpc2libGUpXT1cImlzU2hvd0xpc3RcIlxuICAgICAgW3N0eWxlXT1cInsgd2lkdGg6ICcyMHZ3JyB9XCJcbiAgICAgIFtwb3NpdGlvbl09XCIncmlnaHQnXCJcbiAgICAgIFtkcmFnZ2FibGVdPVwiZmFsc2VcIlxuICAgID5cbiAgICAgIDxwLXRhYmxlIFt2YWx1ZV09XCJ2YWx1ZVwiIFt0YWJsZVN0eWxlXT1cInsgJ21pbi13aWR0aCc6ICcxMHJlbScgfVwiPlxuICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiYm9keVwiIGxldC1yb3cgbGV0LXJvd0luZGV4PVwicm93SW5kZXhcIj5cbiAgICAgICAgICA8dHIgKGNsaWNrKT1cIm9uUm93U2VsZWN0KHJvd0luZGV4KVwiIFtwU2VsZWN0YWJsZVJvd109XCJyb3dcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwibGlzdFRlbXBsYXRlIHx8IGRlZmF1bHRMaXN0VGVtcGxhdGVcIlxuICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyAkaW1wbGljaXQ6IHJvdyB9XCJcbiAgICAgICAgICAgID48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgPC9wLXRhYmxlPlxuICAgIDwvcC1kaWFsb2c+XG5cbiAgICA8bmctdGVtcGxhdGUgI2RlZmF1bHRUaXRsZVRlbXBsYXRlPlxuICAgICAgPGRpdiBjbGFzcz1cInNob3J0UmVzdWx0XCI+XG4gICAgICAgIHt7IHlhbWxEb2N1bWVudCB9fVxuICAgICAgPC9kaXY+XG4gICAgPC9uZy10ZW1wbGF0ZT5cblxuICAgIDxuZy10ZW1wbGF0ZSAjZGVmYXVsdERldGFpbFRlbXBsYXRlPlxuICAgICAgPHByZT57eyB5YW1sRG9jdW1lbnQgfX08L3ByZT5cbiAgICA8L25nLXRlbXBsYXRlPlxuXG4gICAgPG5nLXRlbXBsYXRlICNkZWZhdWx0TGlzdFRlbXBsYXRlIGxldC1yb3c+XG4gICAgICA8dGQ+e3sgcm93W2dldEtleSh2YWx1ZVswXSwgMCldIH19PC90ZD5cbiAgICAgIDx0ZD57eyByb3dbZ2V0S2V5KHZhbHVlWzBdLCAxKV0gfX08L3RkPlxuICAgIDwvbmctdGVtcGxhdGU+XG4gIDwvZGl2PlxuPC9wLXRvb2xiYXI+XG4iXX0=